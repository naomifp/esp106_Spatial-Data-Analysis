---
title: "Week3 Mon Lab"
author: "Naomi"
date: "2023-01-26"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, eval=FALSE)
```
# ESP 106 Lab 3

Monday, January 23, 2023

## Graphing

In this lab session, we will start by reading merging in data on economic development and indoor and outdoor air pollution. Then we will practice making some graphs with it.

### Question 1

Read in the three csv files: gdppercapitaandgini and airpollution

Both data sets are from Our World in Data: ourworldindata.org

-   The GDP data set has GDP per capita and the GINI index (a measure of income inequality: <https://en.wikipedia.org/wiki/Gini_coefficient>)

-   The air pollution data set has death rates from indoor and outdoor air pollution - units are in deaths per 100,000 people

    -   Indoor air pollution is the **Household Air Pollution from Solid Fuels**

    -   Outdoor air pollution is split into **Particulate Matter** and **Ozone**

gdppercapitaandgini and airpollution csv datasets are imported and renamed :

-   gdppercapitaandgini becomes **gdpgini**
-   airpollution becomes **apol**

```{r}
View(gdpgini)
View(apol)
```

*The column names are long and cumbersome (because they contain information about units, etc.) - you might want to rename some of the columns to make them easier to work with.*

In that case, the columns are renamed to make them simpler.

```{r}
colnames(apol) <- c("Country","Code","Year","PM","Fuels","Ozone","Total")
colnames(gdpgini) <- c("Country","Code","Year","Population","Continent","GINI","GDP")
```

### Question 2

Choose two countries that you are interested in and make a plot showing the death rates from indoor air pollution and outdoor air pollution (summary of particulate matter and ozone) over time. Distinguish the countries using different colored lines and the types of pollution using different line types. Make sure to add a legend and appropriate titles for the axes and plot.

*Various country names can be seen using unique(x\$Entity) where x is the data frame containing the air pollution data. Then create two new data frames that contain only the rows corresponding to each of the two countries you want to look at. Create a new column of total outdoor air pollution deaths by summing death rates from particulate matter and ozone. Use these to make your plot and add the lines you need. The y scale might have to be set manually to make sure the plot is wide enough to show both countries. It can be done by using the "ylim" argument in plot.*

Death caused by indoor pollution comes from Household Air Pollution from Solid Fuels under the column name of '**Fuels**'. Deaths caused by outdoor pollution are total of deaths caused by Particulate Matter and deaths caused by Ozone under the column names of '**PM**' and '**Ozone**'.

```{r}
apol$Out <- apol$PM + apol$Ozone
```

Data from 2 particular countries are extracted:

1.  **Indonesia** -- Extracted by the code "IDN", then kept into 'idn' data set
2.  **Malaysia** -- Extracted by the code "MYS", then kept into 'mys' data set

```{r}
idn <- subset(apol, Code=="IDN")
mys <- subset(apol, Code=="MYS")
```

Graphic plot is made with condition below.

-   **x axis** indicating **Year**

-   **y axis** indicating **Number of deaths from Air Pollution**

```{r}
plot(Out ~ Year, data=idn, type="l", main="Deaths from Air Pollution in Indonesia and in Malaysia", ylab="Deaths from Air Pollution", ylim=c(0,100), col="red")
lines(Out ~ Year, data=mys, col="blue")
lines(Fuels ~ Year, data=idn, col="red", lty=2)
lines(Fuels ~ Year, data=mys, col="blue", lty=2)
countries <- c('Outdoor Pollution - Indonesia', 'Outdoor Pollution - Malaysia', 'Indoor Pollution - Indonesia', 'Indoor Pollution - Malaysia')
legend('topright', countries, lty=c(1,1,2,2), col=c("red","blue"))
```

Each **countries** are distinguished by the **line color**:

-   [**Red line**]{style="color: red;"} indicating data from **Indonesia**

-   [**Blue line**]{style="color: blue;"} indicating data from **Malaysia**

While each **type of air pollution** are distinguished by the **line types**:

-   **Solid line** indicating **Outdoor Pollution**

-   **Dash line** indicating **Indoor Pollution**
